nsrr_website = function() {
website = "https://sleepdata.org"
}
nsrr_datasets = function() {
website = nsrr_website()
datasets = paste0(website, "/datasets.json")
res = httr::GET(datasets)
}
website = nsrr_website()
datasets = paste0(website, "/datasets.json")
res = httr::GET(datasets)
res
content(res)
httr::content(res)
x = httr::content(res, as = "text")
x = jsonlite::fromJSON(x, flatten = TRUE)
x
token = "4207-p4ykHMRL6esF2EPxPFzb"
website = nsrr_website()
url = paste0(website, "/token")
hdr = httr::add_headers(auth_token = token)
token = "4207-p4ykHMRL6esF2EPxPFzb"
website = nsrr_website()
url = paste0(website, "/token")
hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, hdr)
res
httr::content(res)
nsrr_website = function() {
website = "https://sleepdata.org"
}
nsrr_datasets = function() {
website = nsrr_website()
datasets = paste0(website, "/datasets.json")
res = httr::GET(datasets)
x = httr::content(res, as = "text")
x = jsonlite::fromJSON(x, flatten = TRUE)
return(x)
}
nsrr_token = function(token = NULL) {
if (token == "") {
token = NULL
}
if (is.null(token)) {
token = Sys.getenv("NSRR_TOKEN")
}
if (token == "") {
token = NULL
}
token
}
token = nsrr_token(token = token)
token = "4207-p4ykHMRL6esF2EPxPFzb"
website = nsrr_website()
auth = paste0(website, "/api/v1/account/profile.json")
token = nsrr_token(token = token)
token = "4207-p4ykHMRL6esF2EPxPFzb"
website = nsrr_website()
url = paste0(website, "/api/v1/account/profile.json")
hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, hdr)
res
httr::content(res)
hdr
trimws(NULL)
httr::GET("https://sleepdata.org/api/v1/account/profile.json")
httr::content(httr::GET("https://sleepdata.org/api/v1/account/profile.json"))
httr::content(httr::GET("https://sleepdata.org/api/v1/account/profile.json"), as= "text")
?GET
# hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, auth_token = token)
httr::content(res)
token = "4207-p4ykHMRL6esF2EPxPFzb"
website = nsrr_website()
url = paste0(website, "/api/v1/account/profile.json")
# hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, auth_token = token)
res
httr::content(res)
# hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, query = auth_token = token)
# hdr = httr::add_headers(auth_token = token)
res = httr::GET(url, query = list(auth_token = token))
httr::content(res)
library(nsrr)
